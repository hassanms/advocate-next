(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{8392:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/zoomlink",function(){return n(1563)}])},1563:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(5893),i=n(1857),o=n.n(i),s=n(6979),r=n(3100),c=n(9222),l=n(204),d=n(8911),p=n(8433),u=n(7294),h=n(5977),m=n.n(h),x=n(5752),g=n(2653),b=n(4629),_=n(1163);function k(){let[e,t]=(0,u.useState)(""),[n,i]=(0,u.useState)(!1),h=(0,_.useRouter)(),k=h.query.email,f=h.query.name,w=h.query.topic,j=h.query.phone,z=h.query.start_time,y=h.query.session_id,[v,L]=(0,u.useState)(!1),N=function(e){let{theme:t}=(0,b.uP)(),n=(0,x.OX)();return(0,u.useMemo)(()=>(0,g.Cj)(t.direction,{...n,...e}),[e,t.direction,n])}();(0,u.useEffect)(()=>{let e=localStorage.getItem("zoomJoinLink");t(e),i(!0)},[]);let C=async e=>{L(!0),e.preventDefault();try{let e=await p.Z.post("/api/retrive_session",{session_id:y}),n=await p.Z.get("".concat("https://advocate-node-wry5.vercel.app","/api/meetings")),a=n.data.filter(t=>t.payment_id===e.data.id);0==a.length&&(p.Z.post("/api/zoom_session",{name:f,email:k,topic:w,phone:j,start_time:z}).then(n=>{N({title:"Link Generated.",position:"top-right",description:"generated Link successfully.",status:"success",duration:3e3,isClosable:!0}),t(n.data.join_url),p.Z.post("".concat("https://advocate-node-wry5.vercel.app","/api/meetings"),{data:{name:f,email:k,topic:w,phone:j,start_time:z,join_link:n.data.join_url,start_link:n.data.start_url,payment_id:e.data.id}}).then(e=>{i(!0)}).catch(e=>console.log(e))}).catch(e=>{console.log(e)}),L(!1)),0!==a.length&&(N({title:"Link Generated.",position:"top-right",description:"Link has been Already Generated.",status:"warning",duration:3e3,isClosable:!0}),L(!1))}catch(e){N({title:"Link Generated.",position:"top-right",description:"Link has been Already Generated.",status:"warning",duration:3e3,isClosable:!0}),L(!1)}};return(0,a.jsxs)(s.W,{className:m().zoommain,height:"100vh",maxWidth:"100vw",children:[(0,a.jsxs)(r.xu,{className:m().zoomlinkbox,children:[(0,a.jsx)(c.z,{rounded:"full",size:"lg",fontWeight:"normal",px:6,width:"160px",colorScheme:"orange",bg:"orange.600",_hover:{bg:"orange.700"},onClick:e=>{C(e)},children:"create zoom Link"}),v?(0,a.jsx)("h2",{className:"jsx-9abc42249ef8385c",children:"loading"}):(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsxs)(l.k,{flexDir:"column",alignItems:"center",gap:"20px",children:[" ",(0,a.jsx)("p",{className:"jsx-9abc42249ef8385c",children:"Your Zoom Link : "}),e?(0,a.jsx)("a",{href:e,className:"jsx-9abc42249ef8385c "+(m().aTag||""),children:e}):(0,a.jsx)("p",{className:"jsx-9abc42249ef8385c",children:"Link not Found"}),(0,a.jsx)(d.x,{children:"please save this link with yours and visit this link on time"})]})})]}),(0,a.jsx)(o(),{id:"9abc42249ef8385c",children:"button.jsx-9abc42249ef8385c{height:36px;background:#556cd6;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;color:white;border:0;font-weight:600;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-shadow:0px 4px 5.5px 0px rgba(0,0,0,.07);-moz-box-shadow:0px 4px 5.5px 0px rgba(0,0,0,.07);box-shadow:0px 4px 5.5px 0px rgba(0,0,0,.07)}button.jsx-9abc42249ef8385c:hover{opacity:.8}"})]})}},5977:function(e){e.exports={zoommain:"zoomLink_zoommain__I9Pze",zoomlinkbox:"zoomLink_zoomlinkbox__fhzMA",aTag:"zoomLink_aTag__gA8Ke"}}},function(e){e.O(0,[433,417,774,888,179],function(){return e(e.s=8392)}),_N_E=e.O()}]);